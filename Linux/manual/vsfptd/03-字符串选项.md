# 字符串选项

以下列出了 `vsftpd.conf` 所有字符串选项。

1. anon_root

   | 默认值 | `无`                                                               |
   | ------ | ------------------------------------------------------------------ |
   | 说明   | 此选项表示 vsftpd 在匿名登录后尝试更改的目录。失败被默默地忽略了。 |

2. banned_email_file

   | 默认值 | `/etc/vsftpd.banned_emails`                            |
   | ------ | ------------------------------------------------------ |
   | 说明   | 此选项是包含不允许的匿名电子邮件密码列表的文件的名称。 |
   | 条件   | 启用了选项 `deny_email_enable`，则会查询此文件         |

3. banner_file

   | 默认值 | `无`                                             |
   | ------ | ------------------------------------------------ |
   | 说明   | 客户端连接到服务器时，服务器会输出此文件的内容。 |

   > 如果选项值不为空，它将覆盖 `ftpd_banner` 选项提供的标题字符串！

4. ca_certs_file

   | 默认值 | `无`                                                               |
   | ------ | ------------------------------------------------------------------ |
   | 说明   | 此选项是用于加载证书颁发机构证书的文件的名称，用于验证客户端证书。 |

   > 遗憾的是，由于 vsftpd 使用受限制的文件系统空间（chroot），因此未使用默认的 SSL CA 证书路径。

5. chown_username

   | 默认值 | `root`                                         |
   | ------ | ---------------------------------------------- |
   | 说明   | 这是获得匿名上传文件所有权的用户的名称。       |
   | 条件   | 仅当 `chown_uploads=YES` 时，此选项才有意义 。 |

6. chroot_list_file

   | 默认值 | `/etc/vsftpd.chroot_list`                           |
   | ------ | --------------------------------------------------- |
   | 说明   | 指定 1 个文件路径，该路径文件包含部分本地用户的列表 |
   | 条件   | `chroot_list_enable=YES` 是才有意义                 |

   > 具体讲解，请查看 [chroot_list_enable](./01-布尔值选项.md) 第 14 个选项！

7. cmds_allowed

   | 默认值 | `无`                                                                        |
   | ------ | --------------------------------------------------------------------------- |
   | 说明   | 指定允许客户端使用的 FTP 命令的列表（多个命令以逗号分隔），其他命令被拒绝。 |
   | 条件   | `cmds_denied` 参数值为空才会生效                                            |

   > 这是一种真正锁定 FTP 服务器的强大方法。示例：`cmds_allowed = PASV, RETR, QUIT`

8. cmds_denied

   | 默认值 | `无`                                                                          |
   | ------ | ----------------------------------------------------------------------------- |
   | 说明   | 指定拒绝客户端使用的 FTP 命令的列表（多个命令以逗号分隔），其他命令将被允许。 |

   > 如果此命令和 cmds_allowed 上都出现命令， 则拒绝优先。

9. deny_file

```text
此选项可用于设置，让某些指定的文件名（包括目录名）无法访问；
受影响的文件不会被隐藏，但ftp客户端不能对这些文件做任何事情，即：下载、更改路径、修改文件等都将被拒绝；
此选项非常简单，不应用于严格的访问控制，建议对任何重要的安全策略使用文件系统权限。
但是，此选项在某些虚拟用户设置中可能很有用。
特别要注意的是，如果文件名可以通过各种名称访问（可能是由于符号链接或硬链接），那么必须注意拒绝访问所有名称。
如果项目的名称包含hide_file给出的字符串，或者它们与hide_file指定的正则表达式匹配，则将拒绝访问项目。

请注意：
  vsftp 支持的正则表达式是完整正则表达式功能的子集。因此，您需要仔细而详尽地测试此选项的任何应用程序。
  1）仅在路径的最后一个组件上支持正则表达式匹配；
  2）支持的正则表达式语法是任意数量的 * 、? 和 非嵌套的{,}运算符；
  3）例如：a/b/? 支持，但 a/?/c 不支持。示例：deny_file = {*.mp3,*.mov,.private}
默认值:(无）
```

1. dsa_cert_file

```text
此选项指定用于SSL加密连接的DSA证书的位置。
默认值:(无 1. RSA证书就足够了）
```

1. dsa_private_key_file

```text
此选项指定用于SSL加密连接的DSA私钥的位置。如果未设置此选项，则预期私钥与证书位于同一文件中。
默认值:(无）
```

1. email_password_file

```text
此选项可用于提供secure_email_list_enable 设置使用的备用文件 。
默认值：/etc/vsftpd.email_passwords
```

1. ftp_username

```text
这是我们用于处理匿名FTP的用户的名称。该用户的主目录是匿名FTP区域的根目录。
默认值：ftp
```

1. ftpd_banner

```text
此字符串选项允许您在首次进入连接时覆盖vsftpd显示的问候语横幅。
默认值:(无 1. 显示默认的vsftpd横幅）
```

1. guest_username

```text
有关guest虚拟机 登录的说明，请参阅boolean设置 guest_enable。此设置是访客用户映射到的真实用户名。
默认值：ftp
```

1. hide_file

```text
此选项可用于设置文件名（包括目录名）从目录列表中隐藏。
尽管被隐藏，但是知道实际使用的名称的客户可以完全访问它们。
如果项目的名称包含hide_file给出的字符串，或者它们与hide_file指定的正则表达式匹配，则将隐藏这些项目。

注意：
  vsftp的正则表达式匹配代码是一个简单的实现，它是完整正则表达式功能的子集。
  有关具体支持的正则表达式语法的详细信息，请参阅 deny_file。示例：hide_file = {*.mp3,.hidden,hide*,h?}
默认值:(无）
```

1. listen_address

```text
如果vsftpd处于独立模式，则此设置可能会覆盖（所有本地接口的）默认侦听地址。提供数字IP地址。
默认值:(无）
```

1. listen_address6

```text
与listen_address类似，但指定IPv6侦听器的默认侦听地址（如果设置了listen_ipv6，则使用该地址）。格式是标准IPv6地址格式。
默认值:(无）
```

1. local_root

```text
此选项表示vsftpd在本地（即非匿名）登录后尝试更改的目录。失败被默默地忽略了。
默认值:(无）
```

1. message_file

```text
此选项是输入新目录时我们查找的文件的名称。内容显示给远程用户。仅当 启用了选项dirmessage_enable时，此选项才有意义 。
默认值：.message
```

1. nopriv_user

```text
这是vsftpd在完全没有特权的情况下使用的用户名。请注意，这应该是专用用户，而不是任何人。在大多数机器上，用户没有倾向于使用很多重要的东西。
默认值：nobody
```

1. pam_service_name

```text
此字符串是vsftpd将使用的PAM服务的名称。
默认值：ftp
```

1. pasv_address

```text
使用此选项可覆盖vsftpd将响应PASV命令而通告的IP地址。提供数字IP地址，除非 启用了pasv_addr_resolve，在这种情况下，您可以提供在启动时为您解析的DNS主机名。
默认值:(没有默认值 1. 地址来自传入的连接套接字）
```

1. rsa_cert_file

```text
此选项指定用于SSL加密连接的RSA证书的位置。
默认值：/usr/share/ssl/certs/vsftpd.pem
```

1. rsa_private_key_file

```text
此选项指定用于SSL加密连接的RSA私钥的位置。如果未设置此选项，则预期私钥与证书位于同一文件中。
默认值:(无）
```

1. secure_chroot_dir

```text
此选项应该是空目录的名称。此外，ftp用户不应该写入该目录。此目录有时用作安全chroot() 监狱，vsftpd不需要文件系统访问。
默认值：/usr/share/empty
```

1. 的 ssl_ciphers

```text
此选项可用于选择vsftpd允许加密SSL连接的SSL密码。有关 更多详细信息，请参见 密码手册页。请注意，限制密码可能是一种有用的安全预防措施，因为它可以防止恶意远程方强制使用已发现问题的密码。
默认值：DES-CBC3-SHA
```

1. user_config_dir

```text
这个功能强大的选项允许基于每个用户覆盖手册页中指定的任何配置选项。用法很简单，最好用一个例子来说明。如果将 user_config_dir 设置为/etc/vsftpd_user_conf 然后以用户“chris”身份登录，则vsftpd将 在会话期间应用文件/etc/vsftpd_user_conf/chris中的设置。此文件的格式详见本手册页！请注意，并非所有设置都是基于每个用户有效。例如，许多设置仅在用户会话启动之前。不会影响每个用户的任何行为的设置示例包括listen_address，banner_file，max_per_ip，max_clients，xferlog_file等。
默认值:(无）
```

1. user_sub_token

```text
此选项与虚拟用户结合使用非常有用。它用于根据模板为每个虚拟用户自动生成主目录。例如，如果通过guest_username指定的真实用户的主目录 是/home/virtual/$ USER，并且 user_sub_token 设置为 $ USER，那么当虚拟用户fred登录时，他将结束（通常是chroot()'ed ）在目录/home/virtual/fred中。如果local_root 包含 user_sub_token，则此选项也会 生效。
默认值:(无）
```

1. userlist_file

```text
此选项是userlist_enable 选项处于活动状态时加载的文件的名称 。
默认值：/etc/vsftpd.user_list
```

1. vsftpd_log_file

```text
此选项是我们编写vsftpd样式日志文件的文件的名称。仅当 设置了选项xferlog_enable并且未设置xferlog_std_format时， 才会写入此日志 。或者，如果已设置选项dual_log_enable，则会写入 。另一个复杂因素 1. 如果您设置了 syslog_enable，则不会写入此文件，而是将输出发送到系统日志。
默认值：/var/log/vsftpd.log
```

1. xferlog_file

```text
此选项是我们编写wu-ftpd样式传输日志的文件的名称。仅当 设置了 xferlog_enable选项以及xferlog_std_format时才会写入传输日志 。或者，如果已设置选项dual_log_enable，则会写入 。
默认值：/var/log/xferlog
```
